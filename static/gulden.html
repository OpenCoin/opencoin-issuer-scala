<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<title>Opencoin Issuer - Currency: Gulden</title>

	<!-- Mobile viewport optimisation -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- (en) Add your meta data here -->
	<!-- (de) Fuegen Sie hier ihre Meta-Daten ein -->

	<link href="http://www.yaml.de/demos/css/flexible-grids.css" rel="stylesheet" type="text/css">
	<!--[if lte IE 7]>
	<link href="http://www.yaml.de/yaml/core/iehacks.css" rel="stylesheet" type="text/css" />
	<![endif]-->

	<!--[if lt IE 9]>
	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
</head>
<body>
<ul class="ym-skiplinks">
	<li><a class="ym-skip" href="#nav">Skip to navigation (Press Enter)</a></li>
	<li><a class="ym-skip" href="#main">Skip to main content (Press Enter)</a></li>
</ul>

<header>
	<div class="ym-wrapper">
		<div class="ym-wbox">
			<h1>Opencoin Issuer</h1>
		</div>
	</div>
</header>
<nav id="nav">
	<div class="ym-wrapper">
		<div class="ym-hlist">
			<ul>
				<li><a href="/">Overview</a></li>
				<li><a href="http://okfnpad.org/opencoin-v3">Specification Draft</a></li>
				<li class="active"><strong>Currency: Gulden</strong></li>
			</ul>
		</div>
	</div>
</nav>
<div id="main">
	<div class="ym-wrapper">
		<div class="ym-wbox">
			<section class="ym-grid linearize-level-1">
				<article class="ym-g66 ym-gl content">
					<div class="ym-gbox-left ym-clearfix">
						<p>The following web services are available:
						<table>
							<tr>
								<th>Request Type</th>
								<th>URL</th>
								<th>Content</th>
								<th>Description</th>
							</tr>
							<tr>
								<td>GET</td>
								<td><a href="cdds/latest">cdds/latest</a></td>
								<td></td>
								<td>Returns current/latest CDD</td>
							</tr>
							<tr>
								<td>GET</td>
								<td><a href="cdds/serial/2342">cdds/serial/&lt;SERIAL&gt;</a></td>
								<td></td>
								<td>Returns a particular CDD which matches the serial</td>
							</tr>
							<tr>
								<td>GET</td>
								<td><a href="mintkeys/">mintkeys/</a></td>
								<td></td>
								<td>Returns all mintkeys which are valid at the time of request</td>
							</tr>
							<tr>
								<td>GET</td>
								<td><a href="mintkeys/id/<ID>">mintkeys/id/&lt;ID&gt;</a></td>
								<td></td>
								<td>Returns a particular mintkey which matches the id</td>
							</tr>
							<tr>
								<td>GET</td>
								<td><a href="mintkeys/denomination/2">mintkeys/denomination/&lt;DENOMINATION&gt;</a></td>
								<td></td>
								<td>Returns the mintkeys for the particular denomination</td>
							</tr>
							<tr>
								<td>POST</td>
								<td><a href="validation">validation</a></td>
								<td><code>
{
    reference: crypto_random_number,
    authorization: string,
    tokens: [n blinds]
} 
								</code></td>
								<td>Issues coins (precisely: blind signatures) when password "opencoin" is provided. The response is a JSON-formated list of BlindSignatures.</td>
							</tr>
							<tr>
								<td>POST</td>
								<td><a href="renewal">renewal</a></td>
								<td><code>
{
    reference: crypto_random_number,
    coins: [n coins],
    tokens: [n blinds]
} 
								</code></td>
								<td>Renews coins (precisely: provides blind signatures) when blanks of equal value are provided. The response is a JSON-formated list of BlindSignatures.</td>
							</tr>
							<tr>
								<td>POST</td>
								<td><a href="invalidation">invalidation</a></td>
								<td><code>
{
    authorization: string,
    coins: [n coins]
} 
								</code></td>
								<td>Invalidates coins and credit their value to a not-implemented account. The response should return a HTTP error code.</td>
							</tr>
							<tr>
								<td>GET</td>
								<td>resume</td>
								<td></td>
								<td>Allows to receive coins after a validation or renewal request during which the connection has been lost. Not yet implemented.</td>
							</tr>
						</table>
						<p>Not sure if an additional interface is required to list all available CDDs and mintkeys.
						<p>Alternatively to the REST-like API above, you may want to use the following message-oriented API instead. This one is compliant to the opencoin specification.
						<table>
							<tr>
								<th>Request Type</th>
								<th>URL</th>
								<th>Message Type</th>
								<th>Content</th>
								<th>CURL</th>
							</tr>
							<tr>
								<td>POST</td>
								<td><a href="message-api">message-api</a></td>
								<td><a href="http://www.hurl.it/hurls/5729a656bba74c072e3b2644622896fdb0556bcf/421318f7c9833dfe2b37da034862ca149a60b910">Request CDD serial</a></td>
								<td><code>{
							    "message_reference": 10,
							    "type": "request cdd serial"
									}</code>
								</td>
								<td><code>curl -H "Content-Type: application/json" -X POST -d "{\"type\":\"request cdd serial\",\"message_reference\":10}" http://localhost:8080/gulden/message-api</code></td>
							</tr>
							<tr>
								<td>POST</td>
								<td><a href="message-api">message-api</a></td>
								<td><a href="http://www.hurl.it/hurls/a8cdc1475af5e4f8479ee5d88119e0bf61141c8a/49a97b9e32f6a9726ac107ad82a79e2ac141ec58">Request CDD</a></td>
								<td><code>{
							    "message_reference": 10,
							    "cdd_serial": 2342,
							    "type": "request cdd serial"
									}</code>
								</td>
								<td><code>curl -H "Content-Type: application/json" -X POST -d "{\"type\":\"request cdd serial\",\"message_reference\":10,\"cdd_Serial\":2342}" http://localhost:8080/gulden/message-api</code></td>
							</tr>
							<tr>
								<td>POST</td>
								<td><a href="message-api">message-api</a></td>
								<td><a href="http://www.hurl.it/hurls/bbb159739c44148b984e91cf52c35cb9dd6c8f58/afdb4d3dc069ab5e7f505420ed43137424295712">Request mint keys by ID</a> <b>(The ID has to be updated!)</b></td>
								<td><code>{
    "message_reference": 2,
    "mint_key_ids": [
        "29aba2dfb4af678666f0f2e058c5a454de6b7fec478ac3fa45d8f4c4dc9df1c7"
    ],
    "denominations": [],
    "type": "request mint keys"
									}</code>
								</td>
								<td><code>curl -H "Content-Type: application/json" -X POST -d "{\"message_reference\": 2,\"mint_key_ids\": [\"29aba2dfb4af678666f0f2e058c5a454de6b7fec478ac3fa45d8f4c4dc9df1c7\"],\"denominations\": [],\"type\": \"request mint keys\"}" http://localhost:8080/gulden/message-api</code></td>
							</tr>
							<tr>
								<td>POST</td>
								<td><a href="message-api">message-api</a></td>
								<td><a href="http://www.hurl.it/hurls/2841a85035457517a0b4552664eb44e585ed10f1/f8087e1175e13d6a70a62cd4dc9afe4c38662ec9">Request mint keys by denomination</a></td>
								<td><code>{
    "message_reference": 3,
    "mint_key_ids": [],
    "denominations": [1,2,5,10],
    "type": "request mint keys"
									}</code>
								</td>
								<td><code>curl -H "Content-Type: application/json" -X POST -d "{\"message_reference\":3,\"mint_key_ids\":[],\"denominations\":[1,2,5,10],\"type\":\"request mint keys\"}" http://localhost:8080/gulden/message-api</code></td>
							</tr>
							<tr>
								<td>POST</td>
								<td><a href="message-api">message-api</a></td>
								<td><a href="http://www.hurl.it/hurls/0deab13b8a629ce6bf9308b7e186212b483238c6/d71b3e97a6e48a861eee959f37ae6e8de601b198">Request all mint keys (without parameter)</a></td>
								<td><code>{
    "message_reference": 3,
    "mint_key_ids": [],
    "denominations": [],
    "type": "request mint keys"
									}</code>
								</td>
								<td><code>curl -H "Content-Type: application/json" -X POST -d "{\"message_reference\":3,\"mint_key_ids\":[],\"denominations\":[],\"type\":\"request mint keys\"}" http://localhost:8080/gulden/message-api</code></td>
							</tr>
						</table>
					</div>
				</article>
			</section>
		</div>
	</div>
</div>
<footer>
	<div class="ym-wrapper">
		<div class="ym-wbox">
			<p>© opencoin 2012 – Layout based on <a href="http://www.yaml.de/">YAML</a></p>
		</div>
	</div>
</footer>

<!-- full skip link functionality in webkit browsers -->
<script src="http://www.yaml.de/yaml/core/js/yaml-focusfix.js"></script>


</body></html>